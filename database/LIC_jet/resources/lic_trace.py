# trace generated using paraview version 5.10.1
#import paraview
#paraview.compatibility.major = 5
#paraview.compatibility.minor = 10
import sys
from os.path import exists

#### import the simple module from the paraview
import paraview.simple as pvs

if len(sys.argv) < 2:
    print('no data file path provided - defaulting to "./data/jet.vti"')
    filepath = './data/jet.vti'
else:
    filepath = str(sys.argv[1])

file_exists = exists(filepath)
if not file_exists:
    print("file ", filepath," does not exist", file=sys.stderr)

# ----------------------------------------------------------------
# setup the data processing pipelines
# ----------------------------------------------------------------

# create a new 'XML Image Data Reader'
reader = pvs.XMLImageDataReader(registrationName='jet.vti', FileName=[filepath])
reader.PointArrayStatus = ['ImageFile']                                             # OWN_DATA: every field has a name in a .vti file. Replace 'Scalars_' by the corresponding name
reader.TimeArray = 'None'

# create a new 'Slice With Plane'
sliceWithPlane1 = pvs.SliceWithPlane(registrationName='SliceWithPlane1', Input=reader)
sliceWithPlane1.PlaneType = 'Plane'
sliceWithPlane1.Level = -1
sliceWithPlane1.PlaneType.Origin = [0.5000000474999999, 1.0019608795, 0.5000000474999999]

# ----------------------------------------------------------------
# setup the views
# ----------------------------------------------------------------

#### disable automatic camera reset on 'Show'
pvs._DisableFirstRenderCameraReset()
pvs.LoadPalette('WhiteBackground')

renderView1 = pvs.GetActiveViewOrCreate('RenderView')
renderView1.OrientationAxesVisibility = 0
renderView1.ViewSize = [1920,1080]
renderView1.CameraPosition = [3.0, 1.0019608795, 0.5]               # OWN_DATA: depending on the data another camera view is needed
renderView1.CameraFocalPoint = [0.5, 1.00196, 0.5]
renderView1.CameraViewUp = [0.0, 0.0, 1.0]
renderView1.CameraParallelScale = 4363.638893631146

# ----------------------------------------------------------------
# setup view layouts
# ----------------------------------------------------------------

# create new layout object 'Layout #1'
layout1 = pvs.CreateLayout(name='Layout #1')
layout1.AssignView(0, renderView1)
layout1.SetSize(1920, 1080)

# ----------------------------------------------------------------
# setup the visualization in view 'renderView1'
# ----------------------------------------------------------------

# get 2D transfer function for 'ImageFile'
imageFileTF2D = pvs.GetTransferFunction2D('ImageFile')              # OWN_DATA: change field

# get color transfer function/color map for 'ImageFile'
imageFileLUT = pvs.GetColorTransferFunction('ImageFile')            # OWN_DATA: change field
imageFileLUT.TransferFunction2D = imageFileTF2D
imageFileLUT.RGBPoints = [0.0017127650148775788, 0.050383, 0.029803, 0.527975, 0.0836138285023752, 0.063536, 0.028426, 0.533124, 0.16549400951575566, 0.075353, 0.027206, 0.538007, 0.24739507300325328, 0.086222, 0.026125, 0.542658, 0.32927525401663377, 0.096379, 0.025165, 0.547103, 0.4111763175041314, 0.10598, 0.024309, 0.551368, 0.4930564985175119, 0.115124, 0.023556, 0.555468, 0.5749575620050095, 0.123903, 0.022878, 0.559423, 0.6568586254925071, 0.132381, 0.022258, 0.56325, 0.7387388065058875, 0.140603, 0.021687, 0.566959, 0.8206398699933852, 0.148607, 0.021154, 0.570562, 0.9025200510067657, 0.156421, 0.020651, 0.574065, 0.9844211144942632, 0.16407, 0.020171, 0.577478, 1.0663012955076436, 0.171574, 0.019706, 0.580806, 1.1482023589951413, 0.17895, 0.019252, 0.584054, 1.230103422482639, 0.186213, 0.018803, 0.587228, 1.3119836034960193, 0.193374, 0.018354, 0.59033, 1.3938846669835172, 0.200445, 0.017902, 0.593364, 1.4757648479968974, 0.207435, 0.017442, 0.596333, 1.5576659114843954, 0.21435, 0.016973, 0.599239, 1.6395460924977756, 0.221197, 0.016497, 0.602083, 1.721447155985273, 0.227983, 0.016007, 0.604867, 1.803348219472771, 0.234715, 0.015502, 0.607592, 1.8852284004861513, 0.241396, 0.014979, 0.610259, 1.9671294639736487, 0.248032, 0.014439, 0.612868, 2.0490096449870294, 0.254627, 0.013882, 0.615419, 2.130910708474527, 0.261183, 0.013308, 0.617911, 2.2127908894879074, 0.267703, 0.012716, 0.620346, 2.294691952975405, 0.274191, 0.012109, 0.622722, 2.3765721339887858, 0.280648, 0.011488, 0.625038, 2.4584731974762835, 0.287076, 0.010855, 0.627295, 2.5403742609637807, 0.293478, 0.010213, 0.62949, 2.622254441977161, 0.299855, 0.009561, 0.631624, 2.704155505464659, 0.30621, 0.008902, 0.633694, 2.7860356864780393, 0.312543, 0.008239, 0.6357, 2.8679367499655366, 0.318856, 0.007576, 0.63764, 2.9498169309789173, 0.32515, 0.006915, 0.639512, 3.031717994466415, 0.331426, 0.006261, 0.641316, 3.113619057953913, 0.337683, 0.005618, 0.643049, 3.195499238967293, 0.343925, 0.004991, 0.64471, 3.2774003024547906, 0.35015, 0.004382, 0.646298, 3.3592804834681713, 0.356359, 0.003798, 0.64781, 3.4411815469556686, 0.362553, 0.003243, 0.649245, 3.5230617279690493, 0.368733, 0.002724, 0.650601, 3.604962791456547, 0.374897, 0.002245, 0.651876, 3.6868638549440442, 0.381047, 0.001814, 0.653068, 3.768744035957425, 0.387183, 0.001434, 0.654177, 3.8506450994449226, 0.393304, 0.001114, 0.655199, 3.9325252804583033, 0.399411, 0.000859, 0.656133, 4.014426343945801, 0.405503, 0.000678, 0.656977, 4.096306524959181, 0.41158, 0.000577, 0.65773, 4.178207588446679, 0.417642, 0.000564, 0.65839, 4.260108651934177, 0.423689, 0.000646, 0.658956, 4.341988832947557, 0.429719, 0.000831, 0.659425, 4.423889896435055, 0.435734, 0.001127, 0.659797, 4.505770077448434, 0.441732, 0.00154, 0.660069, 4.5876711409359325, 0.447714, 0.00208, 0.66024, 4.669551321949314, 0.453677, 0.002755, 0.66031, 4.75145238543681, 0.459623, 0.003574, 0.660277, 4.833353448924308, 0.46555, 0.004545, 0.660139, 4.915233629937689, 0.471457, 0.005678, 0.659897, 4.997134693425187, 0.477344, 0.00698, 0.659549, 5.079014874438567, 0.48321, 0.00846, 0.659095, 5.160915937926065, 0.489055, 0.010127, 0.658534, 5.242796118939444, 0.494877, 0.01199, 0.657865, 5.324697182426943, 0.500678, 0.014055, 0.657088, 5.406598245914441, 0.506454, 0.016333, 0.656202, 5.488478426927821, 0.512206, 0.018833, 0.655209, 5.570379490415318, 0.517933, 0.021563, 0.654109, 5.652259671428698, 0.523633, 0.024532, 0.652901, 5.734160734916196, 0.529306, 0.027747, 0.651586, 5.816040915929577, 0.534952, 0.031217, 0.650165, 5.897941979417075, 0.54057, 0.03495, 0.64864, 5.979843042904572, 0.546157, 0.038954, 0.64701, 6.061723223917952, 0.551715, 0.043136, 0.645277, 6.14362428740545, 0.557243, 0.047331, 0.643443, 6.225504468418831, 0.562738, 0.051545, 0.641509, 6.307405531906328, 0.568201, 0.055778, 0.639477, 6.389285712919708, 0.573632, 0.060028, 0.637349, 6.471186776407207, 0.579029, 0.064296, 0.635126, 6.553066957420587, 0.584391, 0.068579, 0.632812, 6.634968020908085, 0.589719, 0.072878, 0.630408, 6.716869084395582, 0.595011, 0.07719, 0.627917, 6.798749265408962, 0.600266, 0.081516, 0.625342, 6.8806503288964596, 0.605485, 0.085854, 0.622686, 6.962530509909841, 0.610667, 0.090204, 0.619951, 7.044431573397339, 0.615812, 0.094564, 0.61714, 7.126311754410718, 0.620919, 0.098934, 0.614257, 7.208212817898216, 0.625987, 0.103312, 0.611305, 7.290113881385714, 0.631017, 0.107699, 0.608287, 7.371994062399095, 0.636008, 0.112092, 0.605205, 7.453895125886592, 0.640959, 0.116492, 0.602065, 7.535775306899972, 0.645872, 0.120898, 0.598867, 7.6176763703874695, 0.650746, 0.125309, 0.595617, 7.699556551400851, 0.65558, 0.129725, 0.592317, 7.781457614888349, 0.660374, 0.134144, 0.588971, 7.863358678375846, 0.665129, 0.138566, 0.585582, 7.945238859389226, 0.669845, 0.142992, 0.582154, 8.027139922876724, 0.674522, 0.147419, 0.578688, 8.109020103890105, 0.67916, 0.151848, 0.575189, 8.190921167377601, 0.683758, 0.156278, 0.57166, 8.272801348390983, 0.688318, 0.160709, 0.568103, 8.354702411878481, 0.69284, 0.165141, 0.564522, 8.436603475365978, 0.697324, 0.169573, 0.560919, 8.518483656379358, 0.701769, 0.174005, 0.557296, 8.600384719866856, 0.706178, 0.178437, 0.553657, 8.682264900880236, 0.710549, 0.182868, 0.550004, 8.764165964367734, 0.714883, 0.187299, 0.546338, 8.846046145381115, 0.719181, 0.191729, 0.542663, 8.927947208868613, 0.723444, 0.196158, 0.538981, 9.009848272356109, 0.72767, 0.200586, 0.535293, 9.091728453369491, 0.731862, 0.205013, 0.531601, 9.173629516856987, 0.736019, 0.209439, 0.527908, 9.255509697870368, 0.740143, 0.213864, 0.524216, 9.337410761357866, 0.744232, 0.218288, 0.520524, 9.419290942371246, 0.748289, 0.222711, 0.516834, 9.501192005858742, 0.752312, 0.227133, 0.513149, 9.583093069346242, 0.756304, 0.231555, 0.509468, 9.664973250359623, 0.760264, 0.235976, 0.505794, 9.746874313847119, 0.764193, 0.240396, 0.502126, 9.828754494860501, 0.76809, 0.244817, 0.498465, 9.910655558347997, 0.771958, 0.249237, 0.494813, 9.992535739361378, 0.775796, 0.253658, 0.491171, 10.074436802848876, 0.779604, 0.258078, 0.487539, 10.156337866336374, 0.783383, 0.2625, 0.483918, 10.238218047349754, 0.787133, 0.266922, 0.480307, 10.320119110837252, 0.790855, 0.271345, 0.476706, 10.401999291850633, 0.794549, 0.27577, 0.473117, 10.483900355338129, 0.798216, 0.280197, 0.469538, 10.565780536351511, 0.801855, 0.284626, 0.465971, 10.647681599839009, 0.805467, 0.289057, 0.462415, 10.729561780852388, 0.809052, 0.293491, 0.45887, 10.811462844339886, 0.812612, 0.297928, 0.455338, 10.893363907827382, 0.816144, 0.302368, 0.451816, 10.975244088840764, 0.819651, 0.306812, 0.448306, 11.05714515232826, 0.823132, 0.311261, 0.444806, 11.13902533334164, 0.826588, 0.315714, 0.441316, 11.22092639682914, 0.830018, 0.320172, 0.437836, 11.302806577842519, 0.833422, 0.324635, 0.434366, 11.384707641330017, 0.836801, 0.329105, 0.430905, 11.466608704817514, 0.840155, 0.33358, 0.427455, 11.548488885830896, 0.843484, 0.338062, 0.424013, 11.630389949318394, 0.846788, 0.342551, 0.420579, 11.712270130331772, 0.850066, 0.347048, 0.417153, 11.794171193819272, 0.853319, 0.351553, 0.413734, 11.876051374832652, 0.856547, 0.356066, 0.410322, 11.957952438320149, 0.85975, 0.360588, 0.406917, 12.039853501807647, 0.862927, 0.365119, 0.403519, 12.121733682821027, 0.866078, 0.36966, 0.400126, 12.203634746308525, 0.869203, 0.374212, 0.396738, 12.285514927321906, 0.872303, 0.378774, 0.393355, 12.367415990809404, 0.875376, 0.383347, 0.389976, 12.449296171822784, 0.878423, 0.387932, 0.3866, 12.53119723531028, 0.881443, 0.392529, 0.383229, 12.613098298797778, 0.884436, 0.397139, 0.37986, 12.69497847981116, 0.887402, 0.401762, 0.376494, 12.776879543298657, 0.89034, 0.406398, 0.37313, 12.858759724312037, 0.89325, 0.411048, 0.369768, 12.940660787799537, 0.896131, 0.415712, 0.366407, 13.022540968812915, 0.898984, 0.420392, 0.363047, 13.104442032300414, 0.901807, 0.425087, 0.359688, 13.18634309578791, 0.904601, 0.429797, 0.356329, 13.268223276801292, 0.907365, 0.434524, 0.35297, 13.350124340288788, 0.910098, 0.439268, 0.34961, 13.432004521302169, 0.9128, 0.444029, 0.346251, 13.513905584789669, 0.915471, 0.448807, 0.34289, 13.595785765803047, 0.918109, 0.453603, 0.339529, 13.677686829290545, 0.920714, 0.458417, 0.336166, 13.759587892778042, 0.923287, 0.463251, 0.332801, 13.841468073791424, 0.925825, 0.468103, 0.329435, 13.923369137278922, 0.928329, 0.472975, 0.326067, 14.0052493182923, 0.930798, 0.477867, 0.322697, 14.0871503817798, 0.933232, 0.48278, 0.319325, 14.16903056279318, 0.93563, 0.487712, 0.315952, 14.250931626280677, 0.93799, 0.492667, 0.312575, 14.332832689768175, 0.940313, 0.497642, 0.309197, 14.414712870781555, 0.942598, 0.502639, 0.305816, 14.496613934269053, 0.944844, 0.507658, 0.302433, 14.578494115282432, 0.947051, 0.512699, 0.299049, 14.66039517876993, 0.949217, 0.517763, 0.295662, 14.742275359783312, 0.951344, 0.52285, 0.292275, 14.824176423270808, 0.953428, 0.52796, 0.288883, 14.90605660428419, 0.95547, 0.533093, 0.28549, 14.987957667771688, 0.957469, 0.53825, 0.282096, 15.069858731259185, 0.959424, 0.543431, 0.278701, 15.151738912272565, 0.961336, 0.548636, 0.275305, 15.233639975760061, 0.963203, 0.553865, 0.271909, 15.315520156773443, 0.965024, 0.559118, 0.268513, 15.397421220260942, 0.966798, 0.564396, 0.265118, 15.47930140127432, 0.968526, 0.5697, 0.261721, 15.56120246476182, 0.970205, 0.575028, 0.258325, 15.643103528249316, 0.971835, 0.580382, 0.254931, 15.724983709262697, 0.973416, 0.585761, 0.25154, 15.806884772750193, 0.974947, 0.591165, 0.248151, 15.888764953763575, 0.976428, 0.596595, 0.244767, 15.970666017251073, 0.977856, 0.602051, 0.241387, 16.05254619826445, 0.979233, 0.607532, 0.238013, 16.13444726175195, 0.980556, 0.613039, 0.234646, 16.216348325239448, 0.981826, 0.618572, 0.231287, 16.298228506252826, 0.983041, 0.624131, 0.227937, 16.380129569740323, 0.984199, 0.629718, 0.224595, 16.462009750753705, 0.985301, 0.63533, 0.221265, 16.5439108142412, 0.986345, 0.640969, 0.217948, 16.625790995254583, 0.987332, 0.646633, 0.214648, 16.707692058742083, 0.98826, 0.652325, 0.211364, 16.78959312222958, 0.989128, 0.658043, 0.2081, 16.871473303242958, 0.989935, 0.663787, 0.204859, 16.953374366730454, 0.990681, 0.669558, 0.201642, 17.035254547743836, 0.991365, 0.675355, 0.198453, 17.117155611231336, 0.991985, 0.681179, 0.195295, 17.199035792244715, 0.992541, 0.68703, 0.19217, 17.280936855732214, 0.993032, 0.692907, 0.189084, 17.36283791921971, 0.993456, 0.69881, 0.186041, 17.44471810023309, 0.993814, 0.704741, 0.183043, 17.52661916372059, 0.994103, 0.710698, 0.180097, 17.608499344733968, 0.994324, 0.716681, 0.177208, 17.690400408221468, 0.994474, 0.722691, 0.174381, 17.772280589234846, 0.994553, 0.728728, 0.171622, 17.854181652722346, 0.994561, 0.734791, 0.168938, 17.936082716209842, 0.994495, 0.74088, 0.166335, 18.01796289722322, 0.994355, 0.746995, 0.163821, 18.09986396071072, 0.994141, 0.753137, 0.161404, 18.181744141724103, 0.993851, 0.759304, 0.159092, 18.2636452052116, 0.993482, 0.765499, 0.156891, 18.345525386224978, 0.993033, 0.77172, 0.154808, 18.427426449712478, 0.992505, 0.777967, 0.152855, 18.509327513199974, 0.991897, 0.784239, 0.151042, 18.591207694213356, 0.991209, 0.790537, 0.149377, 18.673108757700852, 0.990439, 0.796859, 0.14787, 18.754988938714234, 0.989587, 0.803205, 0.146529, 18.83689000220173, 0.988648, 0.809579, 0.145357, 18.91877018321511, 0.987621, 0.815978, 0.144363, 19.000671246702606, 0.986509, 0.822401, 0.143557, 19.082551427715988, 0.985314, 0.828846, 0.142945, 19.164452491203487, 0.984031, 0.835315, 0.142528, 19.246353554690984, 0.982653, 0.841812, 0.142303, 19.328233735704366, 0.98119, 0.848329, 0.142279, 19.410134799191862, 0.979644, 0.854866, 0.142453, 19.49201498020524, 0.977995, 0.861432, 0.142808, 19.57391604369274, 0.976265, 0.868016, 0.143351, 19.655796224706123, 0.974443, 0.874622, 0.144061, 19.73769728819362, 0.97253, 0.88125, 0.144923, 19.819598351681115, 0.970533, 0.887896, 0.145919, 19.901478532694497, 0.968443, 0.894564, 0.147014, 19.983379596181994, 0.966271, 0.901249, 0.14818, 20.065259777195372, 0.964021, 0.90795, 0.14937, 20.147160840682872, 0.961681, 0.914672, 0.15052, 20.229041021696254, 0.959276, 0.921407, 0.151566, 20.31094208518375, 0.956808, 0.928152, 0.152409, 20.392843148671247, 0.954287, 0.934908, 0.152921, 20.47472332968463, 0.951726, 0.941671, 0.152925, 20.556624393172125, 0.949151, 0.948435, 0.152178, 20.638504574185507, 0.946602, 0.95519, 0.150328, 20.720405637673004, 0.944152, 0.961916, 0.146861, 20.802285818686386, 0.941896, 0.96859, 0.140956, 20.884186882173882, 0.940015, 0.975158, 0.131326]       # OWN_DATA: change range; format is [value, R, G, B, ...]
imageFileLUT.NanColor = [0.0, 1.0, 0.0]
imageFileLUT.ScalarRangeInitialized = 1.0

sliceWithPlane1Display = pvs.Show(sliceWithPlane1, renderView1, 'GeometryRepresentation')
sliceWithPlane1Display.Representation = 'Surface LIC'
sliceWithPlane1Display.ColorArrayName = ['POINTS', 'ImageFile']         # OWN_DATA: change field
sliceWithPlane1Display.LookupTable = imageFileLUT
sliceWithPlane1Display.SelectInputVectors = ['POINTS', 'ImageFile']     # OWN_DATA: change field
sliceWithPlane1Display.LICIntensity = 0.5
sliceWithPlane1Display.EnhanceContrast = 'LIC and Color'
sliceWithPlane1Display.SetScalarBarVisibility(renderView1, True)

# get color legend/bar for imageFileLUT in view renderView1
imageFileLUTColorBar = pvs.GetScalarBar(imageFileLUT, renderView1)
imageFileLUTColorBar.Orientation = 'Horizontal'
imageFileLUTColorBar.WindowLocation = 'Upper Center'
imageFileLUTColorBar.Position = [0.05760603204524028, 0.8569328263624842]
imageFileLUTColorBar.Title = 'Velocity'                                 # OWN_DATA: change title to whats displayed
imageFileLUTColorBar.ComponentTitle = 'Magnitude'
imageFileLUTColorBar.HorizontalTitle = 1
imageFileLUTColorBar.ScalarBarLength = 0.8
imageFileLUTColorBar.Visibility = 1

# pvs.ResetCamera(renderView1)                                          # OWN_DATA: if the original view does not fit ResetCamera can be used to focus on the visible data

# save screenshot
pvs.SaveScreenshot('./output/lic.png', 
    layout1, 
    FontScaling='Do not scale fonts')
